!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},c=e.parcelRequire8b94;null==c&&((c=function(n){if(n in t)return t[n].exports;if(n in r){var e=r[n];delete r[n];var c={id:n,exports:{}};return t[n]=c,e.call(c.exports,c,c.exports),c.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){r[n]=e},e.parcelRequire8b94=c);var a=c("bpxeT"),u=c("2TvXO"),o=document.querySelector(".js-list"),i=document.querySelector(".js-search"),s=document.querySelector(".js-add"),f=document.querySelector(".js-form-container");function p(){return p=n(a)(n(u).mark((function e(t){var r,c,o;return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map(function(){var e=n(a)(n(u).mark((function e(t){var r;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://restcountries.com/v3.1/name/".concat(t));case 2:if((r=n.sent).ok){n.next=5;break}throw new Error;case 5:return n.abrupt("return",r.json());case 6:case"end":return n.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=3,Promise.allSettled(r);case 3:return c=e.sent,o=c.filter((function(n){return"fulfilled"===n.status})).map((function(n){return n.value[0]})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return d=n(a)(n(u).mark((function e(t){var r,c,o;return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.weatherapi.com/v1","c0dca8ed73ba444e8db231919241301",r=t.map(function(){var e=n(a)(n(u).mark((function e(t){var r,c;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new URLSearchParams({key:"c0dca8ed73ba444e8db231919241301",q:t,lang:"uk"}),n.next=3,fetch("".concat("https://api.weatherapi.com/v1","/current.json?").concat(r));case 3:if((c=n.sent).ok){n.next=6;break}throw new Error(c.statusText);case 6:return n.abrupt("return",c.json());case 7:case"end":return n.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=5,Promise.allSettled(r);case 5:return c=e.sent,o=c.filter((function(n){return"fulfilled"===n.status})).map((function(n){return n.value})),console.log(o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(n){return n.map((function(n){var e=n.current,t=e.temp_c,r=e.condition,c=r.icon,a=r.text,u=n.location,o=u.country,i=u.name;return"\n    <li>\n        <div>\n            <h2>".concat(o,"</h2>\n            <h3>").concat(i,'</h3>\n            <img src="').concat(c,'" alt="').concat(a,'">\n            <p>').concat(a,"</p>\n            <p>Температура: ").concat(t,"</p>\n        </div>\n    </li>\n    ")})).join("")}s.addEventListener("click",(function(){f.insertAdjacentHTML("beforeend",'<input type="text" name="country">')})),i.addEventListener("submit",(function(e){e.preventDefault(),function(n){return p.apply(this,arguments)}(new FormData(e.currentTarget).getAll("country").filter((function(n){return n})).map((function(n){return n.trim()}))).then((t=n(a)(n(u).mark((function e(t){var r,c;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map((function(n){return n.capital[0]})),n.next=3,l(r);case 3:c=n.sent,o.innerHTML=h(c),f.innerHTML="";case 7:case"end":return n.stop()}}),e)}))),function(n){return t.apply(this,arguments)})).catch((function(n){return console.log(n)})).finally((function(){return i.reset()}));var t}))}();
//# sourceMappingURL=countries.a80a7df7.js.map
