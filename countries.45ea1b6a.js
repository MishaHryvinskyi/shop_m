const t=document.querySelector(".js-list"),e=document.querySelector(".js-search"),n=document.querySelector(".js-add"),r=document.querySelector(".js-form-container");n.addEventListener("click",(function(){r.insertAdjacentHTML("beforeend",'<input type="text" name="country">')})),e.addEventListener("submit",(function(n){n.preventDefault();const a=new FormData(n.currentTarget);(async function(t){const e=t.map((async t=>{const e=await fetch(`https://restcountries.com/v3.1/name/${t}`);if(!e.ok)throw new Error;return e.json()})),n=await Promise.allSettled(e);return n.filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t[0]))})(a.getAll("country").filter((t=>t)).map((t=>t.trim()))).then((async e=>{const n=e.map((({capital:t})=>t[0])),a=await async function(t){const e="https://api.weatherapi.com/v1",n="c0dca8ed73ba444e8db231919241301",r=t.map((async t=>{const r=new URLSearchParams({key:n,q:t,lang:"uk"}),a=await fetch(`${e}/current.json?${r}`);if(!a.ok)throw new Error(a.statusText);return a.json()})),a=(await Promise.allSettled(r)).filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t));return console.log(a),a}(n);t.innerHTML=function(t){return t.map((({current:{temp_c:t,condition:{icon:e,text:n}},location:{country:r,name:a}})=>`\n    <li>\n        <div>\n            <h2>${r}</h2>\n            <h3>${a}</h3>\n            <img src="${e}" alt="${n}">\n            <p>${n}</p>\n            <p>Температура: ${t}</p>\n        </div>\n    </li>\n    `)).join("")}(a);r.innerHTML=""})).catch((t=>console.log(t))).finally((()=>e.reset()))}));
//# sourceMappingURL=countries.45ea1b6a.js.map
