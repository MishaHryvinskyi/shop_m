{"mappings":"iDAAO,MAAMA,EAAO,CAChBC,SAAUC,SAASC,cAAc,mBACjCC,SAAUF,SAASC,cAAc,e,SCDrCE,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,ECJI,MAAMK,EAQjBC,UACI,MAAMC,EAAM,GAAGF,EAAeG,mBAAmBH,EAAeI,aAAaC,KAAKC,yBAAyBD,KAAKE,OAChH,OAAOC,MAAMN,GAAKO,MAAMC,IACpBL,KAAKM,gBACED,EAAKE,S,CAIpBD,gBACIN,KAAKE,MAAQ,C,CAEjBM,YACIR,KAAKE,KAAO,C,CAjBhBO,cACIT,KAAKC,MAAQ,GACbD,KAAKE,KAAO,C,EAJhBQ,EAAAvB,EAAA,CADiBQ,EACV,WAAW,qCAClBe,EAAAvB,EAAA,CAFiBQ,EAEV,UAAU,oCCRrB,MAAMgB,EAAiB,IAAIhB,EACrBiB,EAAc,ICDL,MAMXC,UAAUC,GACN,OAAOhC,SAASC,cAAc+B,E,CAGlCC,UACIf,KAAKgB,OAAOC,UAAW,EACvBjB,KAAKgB,OAAOE,YAAc,Y,CAG9BC,SACInB,KAAKgB,OAAOC,UAAW,EACvBjB,KAAKgB,OAAOE,YAAc,W,CAG9BE,OACIpB,KAAKgB,OAAOK,UAAUC,IAAI,S,CAG9BC,OACIvB,KAAKgB,OAAOK,UAAUG,OAAO,S,CAxBjCf,aAAYK,SAAEA,EAAQW,SAAEA,GAAW,IAC/BzB,KAAKgB,OAAShB,KAAKa,UAAUC,GAC7BW,GAAYzB,KAAKoB,M,GDFW,CAChCN,SAAU,WACVW,UAAU,IAiBd,SAASC,IAEL,OADAd,EAAYG,UAQLJ,EAAef,UACrBQ,MAAK,EAAGuB,SAAAC,MACL,GAAuB,IAApBA,EAASC,OAAc,MAAM,IAAIC,MAAM,YAE1C,OAAOF,EAASG,QAChB,CAACC,EAAQL,IAAaK,EExC9B,UAAsBC,OAClBA,EAAMC,MACNA,EAAKC,YACLA,EAAWtC,IACXA,EAAGuC,WACHA,IAEA,MAAQ,kDAEEF,uBACAD,GAAU,wDAELG,GAAc,gEACdF,yDAGNC,yCACoBtC,4E,CFuBM,CAAa8B,IAAW,GAAG,IAZnCvB,MAAK4B,IAC5BK,EAAeL,GACfpB,EAAYO,QAAQ,IACrBmB,MAAMC,E,CAab,SAASA,EAAQC,GACbC,QAAQC,MAAMF,GACd5B,EAAYQ,OACZuB,IACAN,EAAe,wG,CAGnB,SAASA,EAAeL,GACpBpD,EAAKC,SAAS+D,mBAAmB,YAAaZ,E,CAGlD,SAASW,IACL/D,EAAKC,SAASgE,UAAY,E,CA5C9BjE,EAAKI,SAAS8D,iBAAiB,UAG/B,SAAkBC,GACdA,EAAMC,iBACNpC,EAAYW,OACZ,MAAM0B,EAAOF,EAAMG,cACnBvC,EAAeV,MAAQgD,EAAKE,SAASC,KAAKhE,MAE1CuB,EAAeH,YACfmC,IACAjB,IAAgBY,MAAMC,GAASc,SAAQ,IAAMJ,EAAKK,S,IAVtD1C,EAAYI,OAAO8B,iBAAiB,QAASpB","sources":["src/newsSearch/refs.js","node_modules/@swc/helpers/lib/_define_property.js","src/newsSearch/NewsApiService.js","src/newsSearch/mewsSearch.js","src/newsSearch/components/LoadMoreBtn.js","src/newsSearch/markup.js"],"sourcesContent":["export const refs = {\n    listNews: document.querySelector(\".js-list-search\"),\n    formNews: document.querySelector(\".news-form\"),\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","// const BASE_URL = \"https://newsapi.org/v2/everything\";\n// const API_KEY = \"8ece45ab03a7434e9e4dffc54874f777\";\n\n\n\n// function getNews(query) {\n//     return fetch(`${BASE_URL}?apiKey=${API_KEY}&q=${query}&pageSize=5`)\n//     .then((data) => data.json());\n// }\n\n// export { getNews };\n\nexport default class NewsApiService {\n    static ENDPOINT = \"https://newsapi.org/v2/everything\";\n    static API_KEY = \"8ece45ab03a7434e9e4dffc54874f777\";\n    constructor() {\n        this.query = '';\n        this.page = 1;\n    }\n\n    getNews() {\n        const url = `${NewsApiService.ENDPOINT}?apiKey=${NewsApiService.API_KEY}&q=${this.query}&pageSize=5&page=${this.page}`;\n        return fetch(url).then((data) => {\n            this.incrementPage()\n            return data.json();\n        });\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n    resetPage() {\n        this.page = 1;\n    }\n}","// import { getNews } from \"./NewsApiService\";\nimport { refs } from \"./refs\";\nimport { createMarkup } from \"./markup\";\nimport NewsApiService from \"./NewsApiService\";\nimport LoadMoreBtn from \"./components/LoadMoreBtn\";\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n    selector: \"#loadBtn\",\n    isHidden: true,\n});\n\nrefs.formNews.addEventListener('submit', onSubmit);\nloadMoreBtn.button.addEventListener('click', fetchArticles);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    loadMoreBtn.show();\n    const form = event.currentTarget;\n    newsApiService.query = form.elements.news.value;\n\n    newsApiService.resetPage()\n    clearNewsList();\n    fetchArticles().catch(onError).finally(() => form.reset())\n}\n\nfunction fetchArticles() {\n    loadMoreBtn.disable()\n    return getArticalsMarkup().then(markup => {\n        updateNewsList(markup);\n        loadMoreBtn.enable();\n    }).catch(onError);\n}\n\nfunction getArticalsMarkup() {\n    return newsApiService.getNews()\n    .then(({ articles }) => {\n        if(articles.length === 0) throw new Error(\"No data!\");\n\n        return articles.reduce(\n        (markup, articles) => markup + createMarkup(articles), \"\");\n    })\n}\n\nfunction onError(err) {\n    console.error(err);\n    loadMoreBtn.hide();\n    clearNewsList();\n    updateNewsList('<img src=\"https://img.freepik.com/premium-vector/error-404-found-glitch-effect_8024-4.jpg\" alt=\"404\">')\n}\n\nfunction updateNewsList(markup) {\n    refs.listNews.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearNewsList() {\n    refs.listNews.innerHTML = \"\";\n}","// –°—Ç–∞–Ω–∏ –∫–Ω–æ–ø–∫–∏\n// 1. –ö–æ–ª–∏ —ó—ó –Ω–µ–º–∞—î –Ω–∞ –µ–∫—Ä–∞–Ω—ñ\n// 2. –ù–µ–∞–∫—Ç–∏–≤–Ω–∞(Loading...) - –∫–æ–ª–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–ø–∏—Ç(–≤—ñ–¥–ø–æ–≤—ñ–¥—å —â–µ –Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–∞)\n// 3. –°—Ç–∞–Ω –∞–∫—Ç–∏–≤–Ω–∞ - –∫–æ–ª–∏ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∑–∞–ø–∏—Ç\n\n\nexport default class LoadMoreBtn {\n    constructor({ selector, isHidden = false, }) {\n        this.button = this.getButton(selector);\n        isHidden && this.hide();\n    }\n\n    getButton(selector) {\n        return document.querySelector(selector);\n    }\n\n    disable() {\n        this.button.disabled = true;\n        this.button.textContent = \"Loading...\";\n    }\n\n    enable() {\n        this.button.disabled = false;\n        this.button.textContent = \"Load more\";\n    }\n\n    hide() {\n        this.button.classList.add(\"hidden\")\n    }\n\n    show() {\n        this.button.classList.remove(\"hidden\")\n    }\n}","function createMarkup({ \n    author, \n    title, \n    description, \n    url, \n    urlToImage \n}) {\n    return  `\n    <li class=\"js-item-search\">\n        <h2>${title}</h2>\n        <h3>${author || \"No author!üòï\"}</h3>\n        <img \n            src=\"${urlToImage || \"https://ornament.name/pic/no_result.jpg\"}\"\n            alt=\"${title}\" \n            width=\"550\" \n        />\n        <p>${description}</p>\n        <a class=\"btn-s\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more...</a>\n    </li>\n`;\n};\n\nexport { createMarkup };"],"names":["$29b6d238d92ce1c8$export$21666b427502ea6d","listNews","document","querySelector","formNews","Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$da7c0b477e296b0e$export$2e2bcd8739ae039","getNews","url","ENDPOINT","API_KEY","this","query","page","fetch","then","data","incrementPage","json","resetPage","constructor","$parcel$interopDefault","$3eed4a91ea33e3fc$var$newsApiService","$3eed4a91ea33e3fc$var$loadMoreBtn","getButton","selector","disable","button","disabled","textContent","enable","hide","classList","add","show","remove","isHidden","$3eed4a91ea33e3fc$var$fetchArticles","articles","articles1","length","Error","reduce","markup","author","title","description","urlToImage","$3eed4a91ea33e3fc$var$updateNewsList","catch","$3eed4a91ea33e3fc$var$onError","err","console","error","$3eed4a91ea33e3fc$var$clearNewsList","insertAdjacentHTML","innerHTML","addEventListener","event","preventDefault","form","currentTarget","elements","news","finally","reset"],"version":3,"file":"news.f40830f8.js.map"}