{"mappings":"gfAAAA,EAAA,S,IAaoBC,EACFC,E,oDALZC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAI9BC,GAHWF,SAASC,cAAc,YAGiC,QAArDJ,EAAAM,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDZ,IAAyD,IACvEa,EAA+D,QAAnDZ,EAAAK,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOG,oBAAY,IAAnDb,IAAuD,GAsCzE,SAASc,EAAYC,GACjB,IAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,UAAUC,MAAK,SAAAC,G,OAAKA,EAAFJ,KAAgBJ,C,KAtC7C,EAAAS,EAAAC,cAAaL,EAAAC,UAAWrB,GACxBA,EAAK0B,iBAAiB,SAEtB,SAAiBC,GAEb,GADAA,EAAMC,iBACHD,EAAME,OAAOC,UAAUC,SAAS,WAAY,CAC3C,IAAMC,EAAUnB,EAAYc,EAAME,SAClC,EAAAI,EAAAC,aAAYF,E,CAEhB,GAAGL,EAAME,OAAOC,UAAUC,SAAS,aAAc,CAC7C,IAAMI,EAAUtB,EAAYc,EAAME,QAIlC,GAFkBlB,EAAUyB,MAAK,SAAAb,G,OAAKA,EAAFJ,KAAgBgB,EAAQhB,E,IAGxD,OAGJR,EAAU0B,KAAKF,GACf7B,aAAagC,QAAQ9B,EAAAC,OAAOG,WAAYR,KAAKmC,UAAU5B,G,CAE3D,GAAGgB,EAAME,OAAOC,UAAUC,SAAS,eAAgB,CAC/C,IAAMS,EAAU3B,EAAYc,EAAME,QAIlC,GAFkB1B,EAAYiC,MAAK,SAAAb,G,OAAKA,EAAFJ,KAAgBqB,EAAQrB,E,IAG1D,OAGJhB,EAAYkC,KAAKG,GACjBlC,aAAagC,QAAQ9B,EAAAC,OAAOC,aAAcN,KAAKmC,UAAUpC,G","sources":["src/index.js"],"sourcesContent":["import * as basicLightbox from 'basiclightbox';\nimport \"basiclightbox/dist/basicLightbox.min.css\";\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { necklaces } from './helpers/necklaces';\n\nimport { common } from './common';\n\nconst search = document.querySelector(\".js-search\");\nconst list = document.querySelector(\".js-list\");\nconst moreInfo = document.querySelector(\".js-info\");\n\n\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(necklaces, list);\nlist.addEventListener(\"click\", onClick);\n\nfunction onClick(event) {\n    event.preventDefault();\n    if(event.target.classList.contains(\"js-info\")) {\n        const product = findProduct(event.target);\n        createModal(product)\n    }\n    if(event.target.classList.contains(\"js-basket\")) {\n        const product = findProduct(event.target);\n\n        const inStorage = basketArr.some(({ id }) => id === product.id);\n\n        if(inStorage) {\n            return;\n        }\n\n        basketArr.push(product);\n        localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n    }\n    if(event.target.classList.contains(\"js-favorite\")) {\n        const product = findProduct(event.target);\n\n        const inStorage = favoriteArr.some(({ id }) => id === product.id);\n\n        if(inStorage) {\n            return;\n        }\n\n        favoriteArr.push(product);\n        localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n}\n\n\nfunction findProduct(elem) {\n    const productId = Number(elem.closest(\".js-card\").dataset.id);\n    return necklaces.find(({ id }) => id === productId);\n}"],"names":["parcelRequire","$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","$7jJJd","common","KEY_FAVORITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$b8f9b7833fa37166$var$findProduct","elem","productId","Number","closest","dataset","id","$dVN3b","necklaces","find","param","$l1rGz","createMarkup","addEventListener","event","preventDefault","target","classList","contains","product","$87LyB","createModal","product1","some","push","setItem","stringify","product2"],"version":3,"file":"index.09bcf17a.js.map"}