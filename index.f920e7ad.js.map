{"mappings":"oeAAAA,EAAA,S,wDAQeC,SAASC,cAAc,cAAtC,MACMC,EAAOF,SAASC,cAAc,YACnBD,SAASC,cAAc,Y,IAGpBE,EAApB,MAAMC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDR,IAAyD,G,IAC3DS,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAP,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOI,oBAAY,IAAnDF,IAAuD,GAsCzE,SAASG,EAAYC,GACjB,MAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,UAAUC,MAAK,EAACH,GAAEA,KAASA,IAAOJ,G,EAtC7C,EAAAQ,EAAAC,cAAaJ,EAAAC,UAAWrB,GACxBA,EAAKyB,iBAAiB,SAEtB,SAAiBC,GAEb,GADAA,EAAMC,iBACHD,EAAME,OAAOC,UAAUC,SAAS,WAAY,CAC3C,MAAMC,EAAUlB,EAAYa,EAAME,SAClC,EAAAI,EAAAC,aAAYF,E,CAEhB,GAAGL,EAAME,OAAOC,UAAUC,SAAS,aAAc,CAC7C,MAAMC,EAAUlB,EAAYa,EAAME,QAIlC,GAFkBjB,EAAUuB,MAAK,EAACf,GAAEA,KAASA,IAAOY,EAAQZ,KAGxD,OAGJR,EAAUwB,KAAKJ,GACf1B,aAAa+B,QAAQ7B,EAAAC,OAAOI,WAAYT,KAAKkC,UAAU1B,G,CAE3D,GAAGe,EAAME,OAAOC,UAAUC,SAAS,eAAgB,CAC/C,MAAMC,EAAUlB,EAAYa,EAAME,QAIlC,GAFkB1B,EAAYgC,MAAK,EAACf,GAAEA,KAASA,IAAOY,EAAQZ,KAG1D,OAGJjB,EAAYiC,KAAKJ,GACjB1B,aAAa+B,QAAQ7B,EAAAC,OAAOC,aAAcN,KAAKkC,UAAUnC,G","sources":["src/index.js"],"sourcesContent":["import * as basicLightbox from 'basiclightbox';\nimport \"basiclightbox/dist/basicLightbox.min.css\";\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { necklaces } from './helpers/necklaces';\n\nimport { common } from './common';\n\nconst search = document.querySelector(\".js-search\");\nconst list = document.querySelector(\".js-list\");\nconst moreInfo = document.querySelector(\".js-info\");\n\n\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(necklaces, list);\nlist.addEventListener(\"click\", onClick);\n\nfunction onClick(event) {\n    event.preventDefault();\n    if(event.target.classList.contains(\"js-info\")) {\n        const product = findProduct(event.target);\n        createModal(product)\n    }\n    if(event.target.classList.contains(\"js-basket\")) {\n        const product = findProduct(event.target);\n\n        const inStorage = basketArr.some(({ id }) => id === product.id);\n\n        if(inStorage) {\n            return;\n        }\n\n        basketArr.push(product);\n        localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n    }\n    if(event.target.classList.contains(\"js-favorite\")) {\n        const product = findProduct(event.target);\n\n        const inStorage = favoriteArr.some(({ id }) => id === product.id);\n\n        if(inStorage) {\n            return;\n        }\n\n        favoriteArr.push(product);\n        localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n}\n\n\nfunction findProduct(elem) {\n    const productId = Number(elem.closest(\".js-card\").dataset.id);\n    return necklaces.find(({ id }) => id === productId);\n}"],"names":["parcelRequire","document","querySelector","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$ref","$1f0dc3b9307be026$var$favoriteArr","JSON","parse","localStorage","getItem","$UDlvM","common","KEY_FAVORITE","$1f0dc3b9307be026$var$ref1","$1f0dc3b9307be026$var$basketArr","KEY_BASKET","$1f0dc3b9307be026$var$findProduct","elem","productId","Number","closest","dataset","id","$gNkcf","necklaces","find","$dEdDu","createMarkup","addEventListener","event","preventDefault","target","classList","contains","product","$l5ICX","createModal","some","push","setItem","stringify"],"version":3,"file":"index.f920e7ad.js.map"}