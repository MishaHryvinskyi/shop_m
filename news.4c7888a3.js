!function(){function e(e){return e&&e.__esModule?e.default:e}var t={listNews:document.querySelector(".js-list-search"),formNews:document.querySelector(".news-form")};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var r={};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var a=function(){"use strict";function t(){e(n)(this,t),this.query="",this.page=1}return e(r)(t,[{key:"getNews",value:function(){var e=this,n="".concat(t.ENDPOINT,"?apiKey=").concat(t.API_KEY,"&q=").concat(this.query,"&pageSize=5&page=").concat(this.page);return fetch(n).then((function(t){return e.incrementPage(),t.json()}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),t}();e(o)(a,"ENDPOINT","https://newsapi.org/v2/everything"),e(o)(a,"API_KEY","8ece45ab03a7434e9e4dffc54874f777");var u=function(){"use strict";function t(r){var i=r.selector,o=r.isHidden,a=void 0!==o&&o;e(n)(this,t),this.button=this.getButton(i),a&&this.hide()}return e(r)(t,[{key:"getButton",value:function(e){return document.querySelector(e)}},{key:"disable",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"enable",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}},{key:"hide",value:function(){this.button.classList.add("hidden")}},{key:"show",value:function(){this.button.classList.remove("hidden")}}]),t}(),c=new a,s=new u({selector:"#loadBtn",isHidden:!0});function l(){return s.disable(),c.getNews().then((function(e){var t=e.articles;if(0===t.length)throw new Error("No data!");return t.reduce((function(e,t){return e+function(e){var t=e.author,n=e.title,r=e.description,i=e.url,o=e.urlToImage;return'\n    <li class="js-item-search">\n        <h2>'.concat(n,"</h2>\n        <h3>").concat(t||"No author!ðŸ˜•",'</h3>\n        <img \n            src="').concat(o||"https://ornament.name/pic/no_result.jpg",'"\n            alt="').concat(n,'" \n            width="550" \n        />\n        <p>').concat(r,'</p>\n        <a class="btn-s" href="').concat(i,'" target="_blank" rel="noreferrer noopener">Read more...</a>\n    </li>\n')}(t)}),"")})).then((function(e){d(e),s.enable()})).catch(f)}function f(e){console.error(e),s.hide(),h(),d('<img src="https://img.freepik.com/premium-vector/error-404-found-glitch-effect_8024-4.jpg" alt="404">')}function d(e){t.listNews.insertAdjacentHTML("beforeend",e)}function h(){t.listNews.innerHTML=""}t.formNews.addEventListener("submit",(function(e){e.preventDefault(),s.show();var t=e.currentTarget;c.query=t.elements.news.value,c.resetPage(),h(),l().catch(f).finally((function(){return t.reset()}))})),s.button.addEventListener("click",l)}();
//# sourceMappingURL=news.4c7888a3.js.map
