function e(e){return e&&e.__esModule?e.default:e}const t={listNews:document.querySelector(".js-list-search"),formNews:document.querySelector(".news-form")};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};class r{getNews(){const e=`${r.ENDPOINT}?apiKey=${r.API_KEY}&q=${this.query}&pageSize=5&page=${this.page}`;return fetch(e).then((e=>(this.incrementPage(),e.json())))}incrementPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.query="",this.page=1}}e(n)(r,"ENDPOINT","https://newsapi.org/v2/everything"),e(n)(r,"API_KEY","8ece45ab03a7434e9e4dffc54874f777");const s=new r,i=new class{getButton(e){return document.querySelector(e)}disable(){this.button.disabled=!0,this.button.textContent="Loading..."}enable(){this.button.disabled=!1,this.button.textContent="Load more"}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}constructor({selector:e,isHidden:t=!1}){this.button=this.getButton(e),t&&this.hide()}}({selector:"#loadBtn",isHidden:!0});function o(){return i.disable(),s.getNews().then((({articles:e})=>{if(0===e.length)throw new Error("No data!");return e.reduce(((e,t)=>e+function({author:e,title:t,description:n,url:r,urlToImage:s}){return`\n    <li class="js-item-search">\n        <h2>${t}</h2>\n        <h3>${e||"No author!ðŸ˜•"}</h3>\n        <img \n            src="${s||"https://ornament.name/pic/no_result.jpg"}"\n            alt="${t}" \n            width="550" \n        />\n        <p>${n}</p>\n        <a class="btn-s" href="${r}" target="_blank" rel="noreferrer noopener">Read more...</a>\n    </li>\n`}(t)),"")})).then((e=>{c(e),i.enable()})).catch(a)}function a(e){console.error(e),i.hide(),u(),c('<img src="https://img.freepik.com/premium-vector/error-404-found-glitch-effect_8024-4.jpg" alt="404">')}function c(e){t.listNews.insertAdjacentHTML("beforeend",e)}function u(){t.listNews.innerHTML=""}t.formNews.addEventListener("submit",(function(e){e.preventDefault(),i.show();const t=e.currentTarget;s.query=t.elements.news.value,s.resetPage(),u(),o().catch(a).finally((()=>t.reset()))})),i.button.addEventListener("click",o);
//# sourceMappingURL=news.f40830f8.js.map
